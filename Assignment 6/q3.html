<!DOCTYPE html>
<html>
<head>
  <title>Phone Number Validation</title>
  <style>
    .error { color: red; font-size: 0.9em; }
    .success { color: green; font-size: 0.9em; }
    input:invalid { border-color: red; }
    input:valid { border-color: green; }
  </style>
</head>
<body>
  <form id="phoneForm" novalidate>
    <label for="phone">Phone Number:</label><br>
    <input type="text" id="phone" name="phone" placeholder="(123) 456-7890 or 123-456-7890" required>
    <span id="phoneMsg"></span><br><br>
    <button type="submit">Submit</button>
  </form>

  <script>
    
    const phoneRegex = /^(\(\d{3}\)\s?\d{3}-\d{4}|\d{3}-\d{3}-\d{4})$/;
    const phoneInput = document.getElementById('phone');
    const phoneMsg = document.getElementById('phoneMsg');

    phoneInput.addEventListener('input', function() {
      if(phoneInput.value === '') {
        phoneMsg.textContent = '';
        phoneMsg.className = '';
      } else if(phoneRegex.test(phoneInput.value)) {
        phoneMsg.textContent = "Valid phone number âœ”";
        phoneMsg.className = "success";
      } else {
        phoneMsg.textContent = "Invalid US phone format";
        phoneMsg.className = "error";
      }
    });

    document.getElementById('phoneForm').addEventListener('submit', function(e) {
      if(!phoneRegex.test(phoneInput.value)) {
        e.preventDefault();
        phoneMsg.textContent = "Please enter a valid US phone number before submitting.";
        phoneMsg.className = "error";
      }
    });
  </script>
</body>
</html>
